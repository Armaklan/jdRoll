<div id="dicerModal" class="modal hide fade">
    <div class="modal-header">
	    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	    <h3>Lanceur de dés</h3>
    </div>
    <div class="modal-body">
    	    <form class="form-inline">
			    <input type="text" class="input-small" id="dicerParam" name="dicerParam" placeholder="Ex : 1d6 + 1d4">
			    <button type="submit" class="btn" onClick="return callLaunchDice();">Lancer les dés</button>
			    <span id="resultatDicer">
			    	
			    </span>
			    <p/>
			    <p><i>Les résultats ci-dessous sont réactualisés uniquement lors du rechargement de la page.</p>
			    <p/>
			    <table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>Joueur</th>
							<th>Date</th>
							<th>Result</th>
						</tr>
					</thead>
					<tbody>
					{% for jet in jets %}
						<tr>
							<td>{{ jet.username }}</td>
							<td>{{ jet.create_date }}</td>
							<td>{{ jet.result }}</td>
						</tr>
					{% endfor %}
					</tbody>
				</table>
		    </form>
    </div>
    <div class="modal-footer">
    	<button class="btn" data-dismiss="modal" aria-hidden="true">Fermer</button>
    </div>
</div>


<script language="javascript">
function callLaunchDice() {
	param=$('#dicerParam').val();
	$.ajax({
		type: "POST",
		url: "{{ path('dicer', {"campagne_id" : campagne_id}) }}",
		data: {param: param},
		error: function() { alert("Jet de dé impossible"); },
		success: function(retour){
			$('#resultatDicer').html(retour);
		}
	});
	return false;
}
</script>
